<!DOCTYPE html>
<html>
  <head>
    <script src="https://cdn.jsdelivr.net/npm/flexi-color-picker@1.0.1/colorpicker.js"></script> 
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
      #picker { width: 200px; height: 200px }
      #slide { width: 30px; height: 200px }

  #myContainer {
  width: 900px;
  height: 740px;
  position: relative;
  /* background: yellow; */
}
#myAnimation {
  width: 70px;
  height: 70px;
  position: absolute;
  background-color: rgb(47, 10, 150);
  border-radius: 60px;
  margin-left: 25%;
  /* border: 5px solid #ddd; */
}
body{
  background-color:rgb(195, 202, 231);
}
* {
  box-sizing: border-box;
}

#myInput {
  width: 60%;
  font-size: 16px;
  padding: 12px 20px 12px 10px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}
#srch {
  width: 60%;
  font-size: 16px;
  padding: 12px 20px 12px 10px;
  border: 1px solid #ddd;
  margin-bottom: 12px;
}
#myUL {
  list-style-type: none;
  padding: 0;
  margin: 0;
}

#myUL li a {
  width: 60%;
  border: 1px solid #ddd;
  margin-top: -1px;
  background-color: #f6f6f6;
  padding: 12px;
  text-decoration: none;
  font-size: 18px;
  color: black;
  display: block
}

#myUL li a:hover:not(.header) {
  background-color: #eee;
}
    </style>
  </head>
  <body>


    <div class="container-fluid footer" id="PointTwo">
      <div class="row rr">
    
        <div class="col-sm-4 column">
          <div id ="myAnimation"></div>
        </div>
    
        <div class="col-sm-4 column">
        <p><div style="width: 200px; float:left; height:200px; margin:10px" id="picker"></div>
        <div style="width: 20px; float:left; height:200px; margin:10px" id="slide"></div></p>
        </div>
    
        <div class="col-sm-4 column">
          <p><h2>Phone Book</h2>

            <input type="text" id="myInput" onkeyup="myFunction()" placeholder="Search .." >
            
            <ul id="myUL">
              <li><a href="#">Ali 091576764478</a></li>
              <li><a href="#">Zahra 093311223365</a></li>
            
              <li><a href="#">Reza 0917526369</a></li>
              <li><a href="#">Homa 093252525055</a></li>
            
              <!-- <li><a href="#">Shiva 09335303069</a></li>
              <li><a href="#">Saeed 09157889673</a></li> -->
              <li><a href="#">Ahmad 091544223673</a></li>
            </ul>
            </p>
        </div>

        <div class="col-sm-4 column">
          <input type="text" style="margin-top:50px" id="srch"  placeholder="Search by Movie Title.." >
          <input type="radio" id="movie" name="Type" value="movie">
          <label for="movie">movie</label>
          <input type="radio" id="series" name="Type" value="series">
          <label for="series">series</label><br>
        <!-- <button type="button" onclick="loadDoc()">Request data</button> -->
        <br>
        <progress id="progress" value="0"></progress>
<button id="button">Request data</button>
<span id="display"></span>
        <!-- <p id="time"></p> -->
        <p id="resp"></p>
      </div>

      </div>
    </div>



    <script type="text/javascript">
    var morab = document.getElementById('myAnimation');
      ColorPicker(
        document.getElementById('slide'),
        document.getElementById('picker'),
        function(hex, hsv, rgb) {
          morab.style.backgroundColor=hex;
          // morab.style.fill=hex;
        });



        function myMove() {
  var elem = document.getElementById("myAnimation");   
  var pos = 0;
  var id = setInterval(frame, 10);
  var flg=0;
  function frame() {

document.getElementById("myAnimation").onmouseover = function() {mouseOver()};
document.getElementById("myAnimation").onmouseout = function() {mouseOut()};

function mouseOver() {
  flg=flg+3;
}

function mouseOut() {
  flg=flg-3;
}
  
    if(pos<300 && flg==0) {
      pos++; 
      elem.style.top = pos + 'px'; 
    }
    if (pos == 300 && flg==0) {
     flg = 1;
    // clearInterval(id);
    }
    if(flg==1){
      pos--; 
      elem.style.top = pos + 'px'; 
    }
    if(flg==1 && pos==0){
      flg=0;
    }
  
  }
}
myMove();




function myFunction() {

      var input, filter, ul, li, a, i, txtValue;
      input = document.getElementById("myInput");
      filter = input.value.toUpperCase();
      ul = document.getElementById("myUL");
      li = ul.getElementsByTagName("li");

      for (i = 0; i < li.length; i++) {

          a = li[i].getElementsByTagName("a")[0];
          txtValue = a.textContent || a.innerText;
          
          if (txtValue.toUpperCase().indexOf(filter) > -1) {
              li[i].style.display = "";
          } 
          else {
              li[i].style.display = "none";
          }

      }

  }




//   function loadDoc() {
//   var serch = document.getElementById("srch").value;
//   var type ;
//   if(document.getElementById("movie").checked == true) type ="movie";
//   else type ="series";
//   // http://www.omdbapi.com/?i=tt3896198&apikey=b1b5d454&t=prisoners&type=movie
//   let namesrch = "http://www.omdbapi.com/?i=tt3896198&apikey=b1b5d454&t=" + serch+"&type="+type;
//   let request = new XMLHttpRequest();
//       request.open("GET", namesrch);
//       request.send();
//       document.getElementById("time").innerHTML = request.readyState;
//       request.onload = () => {
//         console.log(request);
//         if (request.status === 200) {
//           document.getElementById("resp").innerHTML = request.response;
//         } else {
//           document.getElementById("resp").innerHTML = `error ${request.status} ${request.statusText}`;
//         }
//       };
// }


var progressBar = document.getElementById("progress"),
  loadBtn = document.getElementById("button"),
  display = document.getElementById("display");

function upload(data) {

  var serch = document.getElementById("srch").value;
  var type ;
  if(document.getElementById("movie").checked == true) type ="movie";
  else type ="series";
  let namesrch = "http://www.omdbapi.com/?i=tt3896198&apikey=b1b5d454&t=" + serch+"&type="+type;

  var xhr = new XMLHttpRequest();
  xhr.open("POST", namesrch, true);
  if (xhr.upload) {
    xhr.upload.onprogress = function(e) {
      if (e.lengthComputable) {
        progressBar.max = e.total;
        progressBar.value = e.loaded;
        display.innerText = Math.floor((e.loaded / e.total) * 100) + '%';
      }
    }
  }
  xhr.send(data);
  xhr.onload = () => {
        if (xhr.status === 200) {
          document.getElementById("resp").innerHTML = xhr.response;
        } else {
          document.getElementById("resp").innerHTML = `error ${xhr.status} ${xhr.statusText}`;
        }
      };
}

function buildFormData() {
  var fd = new FormData();

  for (var i = 0; i < 3000; i += 1) {
    fd.append('data[]', Math.floor(Math.random() * 999999));
  }

  return fd;
}

loadBtn.addEventListener("click", function(e) {
  upload(buildFormData());
  
});
     

    </script>
  </body>
</html>
